<!DOCTYPE html>
<html>
  <head>
    <title>Home</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <!-- <link
      href="https://fonts.googleapis.com/css?family=Cabin&display=swap"
      rel="stylesheet"
    /> -->
    <link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css" />
    <link rel="stylesheet" type="text/css"  href="/style.css" />

    <h1> Assignment work to show the working of CRUDS.
    </h1>
    <br>
    <h3 >To add New data click this-> 
      <button
      onclick="document.getElementById('id01').style.display='block'"
      class="w3-button w3-black"
      >
      ADD DATA
    </button>
  </h3>
  
  <!-- Popup for adding Data -->
      <div class="w3-container">
    
        <div id="id01" class="w3-modal">
          <span
            onclick="document.getElementById('id01').style.display='none'"
            class="w3-button w3-display-topright"
            >&times;</span
          >
          <div class="w3-container">
            <form
              action="/api/add-data"
              method="post"
              autocomplete="off"
              class="w3-container w3-card-4 w3-light-grey w3-text-blue w3-margin"
            >
              <h2 class="w3-center">Data Form</h2>
    
              <div class="w3-row w3-section">
                <div class="w3-col" style="width: 50px">
                  <i class="w3-xxlarge fa fa-user"></i>
                </div>
                <div class="w3-rest">
                  <input
                    class="w3-input w3-border"
                    name="name"
                    type="text"
                    placeholder="Name"
                    required
                  />
                </div>
              </div>
    
              <div class="w3-row w3-section">
                <div class="w3-col" style="width: 50px">
                  <i class="w3-xxlarge fa fa-envelope-o"></i>
                </div>
                <div class="w3-rest">
                  <input
                    class="w3-input w3-border"
                    name="email"
                    type="text"
                    placeholder="E-mail"
                    required
                  />
                </div>
              </div>
    
              <div class="w3-row w3-section">
                <div class="w3-col" style="width: 50px">
                  <i class="w3-xxlarge fa fa-phone"></i>
                </div>
                <div class="w3-rest">
                  <input
                    class="w3-input w3-border"
                    name="phone_number"
                    type="number"
                    placeholder="Phone No."
                    required
                  />
                </div>
              </div>
    
              <div class="w3-row w3-section">
                <div class="w3-col" style="width: 50px">
                  <i class="w3-xxlarge fa fa-pencil"></i>
                </div>
                <div class="w3-rest">
                  <input
                    class="w3-input w3-border"
                    name="hobbies"
                    type="text"
                    placeholder="Hobbies"
                    required
                  />
                </div>
              </div>
    
              <button
                class="w3-button w3-block w3-section w3-blue w3-ripple w3-padding"
              >
                ADD DATA
              </button>
            </form>
          </div>
        </div>
      </div>
      </head>
      <body>

         <!-- Popup for adding data ends -->  
      <div >
        <h1> Table Data: </h1>
        <form action="/api/send-data" method="post" autocomplete="off">
        <table style="width:100%">
          <tr>
            <th>S.No.</th>
            <th>Name</th>
            <th>Phone Number</th>
            <th>Email</th>
            <th>Hobbies</th>
            <th>send</th>
            <th>Delete</th>
            <th>Update</th>
          </tr>
          <% if (tableData) { %>
              <% var ind=1  %>
              <% tableData.forEach(function(dat){ %>
                <tr>
                  <td><%= ind %></td>
                  <td><%= dat.name %></td>
                  <td><%= dat.phoneNumber %></td>
                  <td><%= dat.email %></td>
                  <td ><%= dat.hobbies %></td>
                  <td >
                      <span class="checkmark"><input class=checkmark type="checkbox" name="id" value=<%= dat._id %> /></span>
                  </td>
                  
                <td class=td-bg>
                  <!-- <button type ="submit" value="remove" class="btn danger"> -->
                    <a href="/api/delete-data/<%-dat._id%>"> DELETE </a>
                  <!-- </button> -->
                </td>
                <td class=td-bg>
                  <!-- <button type ="submit" value="update" class="btn warning"> -->
                    <a href="/update-form/<%-dat._id%>" class="a-upd"> UPDATE </a>
                  <!-- </button> -->
                </td>
                <% ind = ind+1 %>
              </tr> 
              <% }) %>
              <% } %>
            </table>
          </div>
          <div  >

            <input type="submit" value="Mail Selected Data" class="w3-btn w3-blue" }/>
          </div>
          </form>
       
    
  </body>
</html>
